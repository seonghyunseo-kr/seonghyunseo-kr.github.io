{%- assign doc = include.doc -%}

{%- assign t = doc.type | downcase -%}
{%- if t == "publication" -%}
  {%- assign type_badge = "badge-outline-blue" -%}
{%- elsif t == "talk" -%}
  {%- assign type_badge = "badge-outline-green" -%}
{%- elsif t == "poster" -%}
  {%- assign type_badge = "badge-outline-yellow" -%}
{%- else -%}
  {%- assign type_badge = "badge-outline-red" -%}
{%- endif -%}

<div class="wow animated fadeIn" data-wow-delay=".12s">
  <div class="post card text-themed p-3 h-100">
    <div class="card-body p-0 d-flex flex-column">

      <div class="d-flex justify-content-between align-items-start gap-2">
        <div class="flex-grow-1">
          {% if doc.type %}
            <div class="mb-2">
              <span class="badge badge-pill {{ type_badge }}">{{ doc.type | capitalize }}</span>
            </div>
          {% endif %}

          <h5 class="mb-1">
            <a href="{{ doc.url | relative_url }}" class="text-themed" style="text-decoration: none;">
              {{ doc.title }}
            </a>
          </h5>
        </div>

        {% if doc.year %}
          <div class="text-muted text-nowrap">{{ doc.year }}</div>
        {% endif %}
      </div>

      {% if doc.venue %}
        <div class="text-muted small"><i>{{ doc.venue }}</i></div>
      {% endif %}
      {% if doc.event %}
        <div class="text-muted small"><i>{{ doc.event }}</i></div>
      {% endif %}

      {% comment %}
      {% if doc.description %}
        <p class="text-muted mt-2 mb-0 academic-desc">{{ doc.description }}</p>
      {% endif %}
      {% endcomment %}

      <div class="mt-3">
        <a class="btn btn-sm btn-outline-primary mr-2" href="{{ doc.url | relative_url }}">Read</a>

        {% if doc.paper_url %}
          <a class="btn btn-sm btn-outline-secondary" href="{{ doc.paper_url }}" target="_blank" rel="noopener">Paper</a>
        {% elsif doc.slides_url %}
          <a class="btn btn-sm btn-outline-secondary" href="{{ doc.slides_url }}" target="_blank" rel="noopener">Slides</a>
        {% elsif doc.poster_url %}
          <a class="btn btn-sm btn-outline-secondary" href="{{ doc.poster_url }}" target="_blank" rel="noopener">Poster PDF</a>
        {% elsif doc.video_url %}
          <a class="btn btn-sm btn-outline-secondary" href="{{ doc.video_url }}" target="_blank" rel="noopener">Video</a>
        {% endif %}

      </div>

    </div>
  </div>
</div>