{%- comment -%} Default Styles {%- endcomment -%}
{%- assign card_style  = 'border border-primary' -%}
{%- assign text_style  = 'text-themed' -%}

{%- comment -%} Apply style/color from front matter {%- endcomment -%}
{%- if project_style == 'fill' -%}
  {%- assign card_style = project_color | prepend: 'bg-' -%}
  {%- if project_color and project_color != 'light' -%}
    {%- assign text_style = 'text-white' -%}
  {%- endif -%}
{%- elsif project_style == 'border' -%}
  {%- assign card_style = project_color | prepend: 'border border-' -%}
{%- endif -%}

{%- comment -%} Track badge style (Industry/Academic only) {%- endcomment -%}
{%- assign track_badge = "badge-outline-blue" -%}
{%- if project_track == "Academic" -%}
  {%- assign track_badge = "badge-outline-green" -%}
{%- elsif project_track == "Industry" -%}
  {%- assign track_badge = "badge-outline-blue" -%}
{%- endif -%}

<div class="wow animated fadeIn" data-wow-delay=".15s">
  <a href="{{ project_url }}"
     class="project card {{ card_style }} {{ text_style }} h-100 p-3"
     style="text-decoration: none;"
     {%- if external and site.open_new_tab -%} target="_blank" rel="noopener" {%- endif -%}>

    {%- if project_img -%}
      <img id="{{ project_id }}-img"
           class="card-img-top mb-3"
           src="{{ project_img }}"
           alt="{{ project_name }}" />
    {%- endif -%}

    <div class="card-body p-0 d-flex flex-column">

      {% if project_track %}
        <div class="mb-2">
          <span class="badge badge-pill {{ track_badge }}">{{ project_track }}</span>
        </div>
      {% endif %}

    <h5 id="{{ project_id }}-name" class="mb-1">
      <span class="project-title">
        {%- if project_type == "remote" -%}
          <i class="fab fa-github" data-toggle="tooltip" data-placement="bottom" data-delay="250" title="GitHub Repository"></i>
          <span>&nbsp;|&nbsp;</span>
        {%- endif -%}
        {{ project_name }}
      </span>
    </h5>

      {%- comment -%} Topic: gray italic text (instead of green chip) {%- endcomment -%}
      {% if project_topic %}
        <div class="text-muted small font-italic">{{ project_topic }}</div>
      {% endif %}

      {% if project_desc %}
        <div class="text-muted small mt-2">{{ project_desc }}</div>
      {% endif %}

      <div class="mt-auto"></div>
    </div>

    {% if project_period %}
      <div class="card-footer p-0 pt-3 {{ text_style }}">
        <div class="text-muted small">{{ project_period }}</div>
      </div>
    {% endif %}

  </a>
</div>