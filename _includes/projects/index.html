<!-- Remote Projects -->
<div class="card-columns m-3 mt-5">
  {% for remote_project in page.remote_projects %}
    {%- for repo in site.github.public_repositories -%}
      {%- if remote_project == repo.name -%}

        {%- assign project = repo -%}
        {%- assign words = project.name | split: '-' -%}

        {%- capture titlecase -%}
          {%- for word in words -%}
            {{ word | capitalize | append: ' ' }}
          {%- endfor -%}
        {%- endcapture -%}

        {%- assign project_type  = "remote" -%}
        {%- assign project_id    = project.name -%}
        {%- assign project_img   = false -%}
        {%- assign project_name  = titlecase | strip -%}
        {%- assign project_url   = project.html_url -%}
        {%- assign external      = true -%}

        {%- assign project_category = "GitHub" -%}
        {%- assign project_topic = "" -%}
        {%- assign project_period = "" -%}

        {%- assign project_style = "border" -%}
        {%- assign project_color = "primary" -%}

        {% include projects/project-card.html %}

      {%- endif -%}
    {%- endfor -%}
  {% endfor %}
</div>

<!-- Local Projects grouped by start year -->
{% assign projects_sorted = site.projects | sort: "year" | reverse %}
{% assign current_year = nil %}

{% for project in projects_sorted %}

  {% if project.year != current_year %}
    {% if current_year != nil %}
      </div>
    {% endif %}

    {% assign current_year = project.year %}
    <h3 class="mt-5 mb-3">{{ current_year }}</h3>
    <div class="card-columns m-3">
  {% endif %}

  {%- assign project_type  = "local" -%}
  {%- assign project_id    = project.name | slugify -%}
  {%- assign project_img   = project.image -%}
  {%- assign project_name  = project.name -%}
  {%- assign project_category = project.category -%}
  {%- assign project_topic = project.topic -%}
  {%- assign project_style = project.style -%}
  {%- assign project_color = project.color -%}
  {%- assign project_period = project.period -%}

  {%- if project.external_url -%}
    {%- assign project_url = project.external_url -%}
    {%- assign external    = true -%}
  {%- else -%}
    {%- assign project_url = project.url | relative_url -%}
    {%- assign external    = false -%}
  {%- endif -%}

  {% include projects/project-card.html %}

{% endfor %}

{% if current_year != nil %}
  </div>
{% endif %}